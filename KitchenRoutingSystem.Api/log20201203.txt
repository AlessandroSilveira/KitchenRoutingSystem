2020-12-03 00:28:59.667 -03:00 [INF] Starting up
2020-12-03 00:29:01.422 -03:00 [FTL] Application start-up failed
System.FormatException: Could not parse the JSON file.
 ---> System.Text.Json.JsonReaderException: ':' is invalid after a value. Expected either ',', '}', or ']'. LineNumber: 9 | BytePositionInLine: 23.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenUntilAfterAllCommentsAreSkipped(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenOrRollback(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonDocument.Parse(ReadOnlySpan`1 utf8JsonSpan, Utf8JsonReader reader, MetadataDb& database, StackRowStack& stack)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 utf8Json, JsonReaderOptions readerOptions, Byte[] extraRentedBytes)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 json, JsonDocumentOptions options)
   at System.Text.Json.JsonDocument.Parse(String json, JsonDocumentOptions options)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationFileParser.ParseStream(Stream input)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.HandleException(ExceptionDispatchInfo info)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load()
   at Microsoft.Extensions.Configuration.ConfigurationRoot..ctor(IList`1 providers)
   at Microsoft.Extensions.Configuration.ConfigurationBuilder.Build()
   at Microsoft.Extensions.Hosting.HostBuilder.BuildAppConfiguration()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
2020-12-03 00:30:06.900 -03:00 [INF] Starting up
2020-12-03 00:30:10.496 -03:00 [FTL] Application start-up failed
System.FormatException: Could not parse the JSON file.
 ---> System.Text.Json.JsonReaderException: ':' is invalid after a value. Expected either ',', '}', or ']'. LineNumber: 9 | BytePositionInLine: 23.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenUntilAfterAllCommentsAreSkipped(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenOrRollback(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonDocument.Parse(ReadOnlySpan`1 utf8JsonSpan, Utf8JsonReader reader, MetadataDb& database, StackRowStack& stack)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 utf8Json, JsonReaderOptions readerOptions, Byte[] extraRentedBytes)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 json, JsonDocumentOptions options)
   at System.Text.Json.JsonDocument.Parse(String json, JsonDocumentOptions options)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationFileParser.ParseStream(Stream input)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.HandleException(ExceptionDispatchInfo info)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load()
   at Microsoft.Extensions.Configuration.ConfigurationRoot..ctor(IList`1 providers)
   at Microsoft.Extensions.Configuration.ConfigurationBuilder.Build()
   at Microsoft.Extensions.Hosting.HostBuilder.BuildAppConfiguration()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
2020-12-03 00:31:34.240 -03:00 [INF] Starting up
2020-12-03 00:31:35.320 -03:00 [FTL] Application start-up failed
System.FormatException: Could not parse the JSON file.
 ---> System.Text.Json.JsonReaderException: '{' is an invalid start of a property name. Expected a '"'. LineNumber: 8 | BytePositionInLine: 2.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenUntilAfterAllCommentsAreSkipped(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenOrRollback(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.JsonDocument.Parse(ReadOnlySpan`1 utf8JsonSpan, Utf8JsonReader reader, MetadataDb& database, StackRowStack& stack)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 utf8Json, JsonReaderOptions readerOptions, Byte[] extraRentedBytes)
   at System.Text.Json.JsonDocument.Parse(ReadOnlyMemory`1 json, JsonDocumentOptions options)
   at System.Text.Json.JsonDocument.Parse(String json, JsonDocumentOptions options)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationFileParser.ParseStream(Stream input)
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.Configuration.Json.JsonConfigurationProvider.Load(Stream stream)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.HandleException(ExceptionDispatchInfo info)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load(Boolean reload)
   at Microsoft.Extensions.Configuration.FileConfigurationProvider.Load()
   at Microsoft.Extensions.Configuration.ConfigurationRoot..ctor(IList`1 providers)
   at Microsoft.Extensions.Configuration.ConfigurationBuilder.Build()
   at Microsoft.Extensions.Hosting.HostBuilder.BuildAppConfiguration()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
2020-12-03 00:32:08.912 -03:00 [INF] Starting up
2020-12-03 00:32:11.623 -03:00 [FTL] Application start-up failed
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IOrderRepository' while attempting to activate 'KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IOrderRepository' while attempting to activate 'KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IOrderRepository' while attempting to activate 'KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

2020-12-03 00:32:42.387 -03:00 [INF] Starting up
2020-12-03 00:32:44.808 -03:00 [FTL] Application start-up failed
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IOrderRepository' while attempting to activate 'KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IOrderRepository' while attempting to activate 'KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IOrderRepository' while attempting to activate 'KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'KitchenRoutingSystem.Domain.Repository.IProductRepository' while attempting to activate 'KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

2020-12-03 00:36:34.856 -03:00 [INF] Starting up
2020-12-03 00:36:41.399 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 00:36:41.421 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 00:36:41.433 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 00:36:41.441 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 00:36:41.449 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 00:36:41.456 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 00:36:41.582 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 00:36:41.598 -03:00 [INF] Hosting environment: Development
2020-12-03 00:36:41.612 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 00:36:41.654 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:62496/swagger/index.html  
2020-12-03 00:36:41.781 -03:00 [INF] Request finished in 131.19ms 200 text/html;charset=utf-8
2020-12-03 00:36:42.470 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:62496/swagger/v1/swagger.json  
2020-12-03 00:36:42.813 -03:00 [INF] Request finished in 343.5002ms 200 application/json;charset=utf-8
2020-12-03 00:37:46.446 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:62496/Order application/json 165
2020-12-03 00:37:46.548 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:37:46.743 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 00:37:47.554 -03:00 [INF] Message delived in  queue 
2020-12-03 00:37:47.567 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 00:37:47.622 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 869.1249ms
2020-12-03 00:37:47.627 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:37:47.628 -03:00 [INF] Request finished in 1185.0123ms 200 application/json; charset=utf-8
2020-12-03 00:37:47.858 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Infra.Context.Context'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 00:37:48.058 -03:00 [ERR] Message not consumed.
2020-12-03 00:40:55.048 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:62496/Order application/json 165
2020-12-03 00:40:55.054 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:40:55.056 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 00:40:55.289 -03:00 [INF] Message delived in  queue 
2020-12-03 00:40:55.290 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 00:40:55.311 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 254.0835ms
2020-12-03 00:40:55.311 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:40:55.313 -03:00 [INF] Request finished in 264.0617ms 200 application/json; charset=utf-8
2020-12-03 00:40:55.361 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Infra.Context.Context'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 00:40:55.570 -03:00 [ERR] Message not consumed.
2020-12-03 00:42:02.209 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:62496/Order application/json 165
2020-12-03 00:42:02.214 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:42:02.218 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 00:42:02.470 -03:00 [INF] Message delived in  queue 
2020-12-03 00:42:02.471 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 00:42:02.477 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 258.3534ms
2020-12-03 00:42:02.477 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:42:02.478 -03:00 [INF] Request finished in 270.0314ms 200 application/json; charset=utf-8
2020-12-03 00:42:02.545 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Infra.Context.Context'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 00:42:02.737 -03:00 [ERR] Message not consumed.
2020-12-03 00:44:14.394 -03:00 [INF] Starting up
2020-12-03 00:44:20.521 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 00:44:20.542 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 00:44:20.548 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 00:44:20.555 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 00:44:20.562 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 00:44:20.569 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 00:44:20.733 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 00:44:20.744 -03:00 [INF] Hosting environment: Development
2020-12-03 00:44:20.759 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 00:44:20.843 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:62496/swagger/index.html  
2020-12-03 00:44:20.975 -03:00 [INF] Request finished in 139.3866ms 200 text/html;charset=utf-8
2020-12-03 00:44:21.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:62496/swagger/v1/swagger.json  
2020-12-03 00:44:22.080 -03:00 [INF] Request finished in 347.7979ms 200 application/json;charset=utf-8
2020-12-03 00:44:50.268 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:62496/Order application/json 165
2020-12-03 00:44:50.349 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:44:50.419 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 00:44:51.175 -03:00 [INF] Message delived in  queue 
2020-12-03 00:44:51.185 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 00:44:57.596 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 7147.4034ms
2020-12-03 00:44:57.601 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 00:44:57.601 -03:00 [INF] Request finished in 7336.4326ms 200 application/json; charset=utf-8
2020-12-03 00:54:55.897 -03:00 [INF] Starting up
2020-12-03 00:54:59.882 -03:00 [FTL] Application start-up failed
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IOrderRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.OrderRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.) (Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IProductRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.ProductRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IOrderRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.OrderRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IProductRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.ProductRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

2020-12-03 00:55:42.321 -03:00 [INF] Starting up
2020-12-03 00:55:45.390 -03:00 [FTL] Application start-up failed
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IOrderRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.OrderRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.) (Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IProductRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.ProductRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IOrderRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.OrderRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IProductRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.ProductRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.Context' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

2020-12-03 01:02:25.216 -03:00 [INF] Starting up
2020-12-03 01:02:29.024 -03:00 [FTL] Application start-up failed
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.) (Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IOrderRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.OrderRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.) (Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IProductRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.ProductRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at KitchenRoutingSystem.Api.Program.Main(String[] args) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Program.cs:line 21
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Fries.Commands.Request.PrepareFriesRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Fries.Handlers.PrepareFriesHandler.PrepareFriesHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Grill.Commands.Request.PrepareGrillRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Grill.Handlers.PrepareGrillHandler.PrepareGrillHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #3) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Salad.Commands.Request.PrepareSaladRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Salad.Handlers.PrepareSaladHandler.PrepareSaladHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #4) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Drinks.Commands.Request.PrepareDrinksRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Drinks.Handlers.PrepareDrinksHandler.PrepareDrinksHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #5) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[KitchenRoutingSystem.Sector.Desserts.Commands.Request.PrepareDessertRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse] Lifetime: Transient ImplementationType: KitchenRoutingSystem.Sector.Dessert.Handlers.PrepareDessertHandler.PrepareDessertHandler': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitDisposeCache(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #6) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IOrderRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.OrderRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

 ---> (Inner Exception #7) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: KitchenRoutingSystem.Domain.Repository.IProductRepository Lifetime: Singleton ImplementationType: KitchenRoutingSystem.Infra.Repositories.ProductRepository': Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
 ---> System.InvalidOperationException: Cannot consume scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext' from singleton 'KitchenRoutingSystem.Domain.Repository.IProductRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitScopeCache(ServiceCallSite scopedCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitConstructor(ConstructorCallSite constructorCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.VisitRootCache(ServiceCallSite singletonCallSite, CallSiteValidatorState state)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateCallSite(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnCreate(ServiceCallSite callSite)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, IServiceProviderEngine engine, ServiceProviderOptions options)<---

2020-12-03 01:04:30.231 -03:00 [INF] Starting up
2020-12-03 01:04:37.840 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:04:37.864 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:04:37.873 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:04:37.881 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:04:37.890 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:04:37.905 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:05:05.155 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:05:05.170 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:05:05.172 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:05:05.174 -03:00 [INF] Hosting environment: Development
2020-12-03 01:05:05.175 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:05:05.209 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Infra.Context.ApplicationContext'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:05:05.372 -03:00 [ERR] Message not consumed.
2020-12-03 01:05:05.372 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-03 01:05:05.446 -03:00 [INF] Request finished in 183.5402ms 301 
2020-12-03 01:05:05.484 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:05:05.535 -03:00 [INF] Request finished in 50.7148ms 200 text/html;charset=utf-8
2020-12-03 01:05:05.747 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css  
2020-12-03 01:05:05.776 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js  
2020-12-03 01:05:05.820 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js  
2020-12-03 01:05:06.053 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2020-12-03 01:05:06.053 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2020-12-03 01:05:06.053 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2020-12-03 01:05:06.061 -03:00 [INF] Request finished in 240.8406ms 200 application/javascript
2020-12-03 01:05:06.063 -03:00 [INF] Request finished in 316.3678ms 200 text/css
2020-12-03 01:05:06.068 -03:00 [INF] Request finished in 292.0863ms 200 application/javascript
2020-12-03 01:05:06.703 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:05:06.868 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2020-12-03 01:05:06.872 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2020-12-03 01:05:06.877 -03:00 [INF] Request finished in 8.8955ms 200 image/png
2020-12-03 01:05:06.980 -03:00 [INF] Request finished in 277.9431ms 200 application/json;charset=utf-8
2020-12-03 01:06:32.126 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 82
2020-12-03 01:06:32.225 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:06:32.303 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:06:32.771 -03:00 [INF] Message delived in  queue 
2020-12-03 01:06:44.385 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 01:17:05.153 -03:00 [INF] Starting up
2020-12-03 01:17:11.991 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:17:12.014 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:17:12.030 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:17:14.125 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:17:14.135 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:17:14.152 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:17:14.451 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:17:14.456 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:17:14.458 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:17:14.459 -03:00 [INF] Hosting environment: Development
2020-12-03 01:17:14.461 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:17:14.703 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Domain.Repository.IApplicationContext'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:17:15.077 -03:00 [ERR] Message not consumed.
2020-12-03 01:17:15.122 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:17:15.262 -03:00 [INF] Request finished in 149.1052ms 200 text/html;charset=utf-8
2020-12-03 01:17:16.075 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:17:16.423 -03:00 [INF] Request finished in 348.3738ms 200 application/json;charset=utf-8
2020-12-03 01:18:23.808 -03:00 [INF] Starting up
2020-12-03 01:18:29.808 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:18:29.831 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:18:29.839 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:18:29.849 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:18:29.856 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:18:29.864 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:18:30.091 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:18:30.095 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:18:30.097 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:18:30.098 -03:00 [INF] Hosting environment: Development
2020-12-03 01:18:30.099 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:18:30.697 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:18:30.803 -03:00 [INF] Request finished in 110.1384ms 200 text/html;charset=utf-8
2020-12-03 01:18:31.445 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:18:31.716 -03:00 [INF] Request finished in 271.1052ms 200 application/json;charset=utf-8
2020-12-03 01:18:56.317 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 165
2020-12-03 01:18:56.369 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:18:56.454 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:19:15.152 -03:00 [INF] Message delived in  queue 
2020-12-03 01:19:25.953 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 01:25:11.165 -03:00 [INF] Starting up
2020-12-03 01:25:16.659 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:25:16.677 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:25:16.702 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:27:19.726 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:27:20.134 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Handler was not found for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:27:20.224 -03:00 [ERR] Message not consumed.
2020-12-03 01:27:21.233 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:27:21.255 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:27:21.441 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:27:21.446 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:27:21.448 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:27:21.450 -03:00 [INF] Hosting environment: Development
2020-12-03 01:27:21.451 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:27:22.141 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:27:22.272 -03:00 [INF] Request finished in 139.6952ms 200 text/html;charset=utf-8
2020-12-03 01:27:22.846 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:27:23.141 -03:00 [INF] Request finished in 294.4994ms 200 application/json;charset=utf-8
2020-12-03 01:30:02.789 -03:00 [INF] Starting up
2020-12-03 01:30:09.644 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:30:09.660 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:30:09.667 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:30:09.673 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:30:09.680 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:30:09.687 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:30:09.899 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:30:09.902 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:30:09.904 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:30:09.905 -03:00 [INF] Hosting environment: Development
2020-12-03 01:30:09.906 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:30:10.586 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:30:10.677 -03:00 [INF] Request finished in 93.4959ms 200 text/html;charset=utf-8
2020-12-03 01:30:11.259 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:30:11.528 -03:00 [INF] Request finished in 269.6169ms 200 application/json;charset=utf-8
2020-12-03 01:30:16.649 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 165
2020-12-03 01:30:16.708 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:30:16.812 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:30:17.117 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 288.1869ms
2020-12-03 01:30:17.167 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:30:17.183 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Handler was not found for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.DTOs.OrderDto,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.Controllers.OrderController.Create(OrderDto command) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\Controllers\OrderController.cs:line 24
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-03 01:30:17.443 -03:00 [INF] Request finished in 794.6986ms 500 text/plain
2020-12-03 01:32:03.054 -03:00 [INF] Application is shutting down...
2020-12-03 01:35:27.055 -03:00 [INF] Starting up
2020-12-03 01:35:33.091 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:35:33.107 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:35:33.114 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:35:33.119 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:35:33.131 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:35:33.137 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:35:33.357 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:35:33.363 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:35:33.365 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:35:33.367 -03:00 [INF] Hosting environment: Development
2020-12-03 01:35:33.369 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:35:33.825 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:35:33.931 -03:00 [INF] Request finished in 110.729ms 200 text/html;charset=utf-8
2020-12-03 01:35:34.568 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:35:34.844 -03:00 [INF] Request finished in 275.7004ms 200 application/json;charset=utf-8
2020-12-03 01:35:43.389 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 165
2020-12-03 01:35:43.445 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:35:43.545 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:35:49.713 -03:00 [INF] Message delived in  queue 
2020-12-03 01:35:49.722 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 01:35:52.412 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 8852.6691ms
2020-12-03 01:35:52.420 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:35:52.424 -03:00 [INF] Request finished in 9035.3479ms 200 application/json; charset=utf-8
2020-12-03 01:36:20.678 -03:00 [INF] Starting up
2020-12-03 01:36:25.372 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:36:25.826 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:36:25.835 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:36:27.557 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:36:27.582 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:36:27.590 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:36:27.884 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:36:27.888 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:36:27.890 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:36:27.891 -03:00 [INF] Hosting environment: Development
2020-12-03 01:36:27.893 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:36:28.134 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:36:28.436 -03:00 [ERR] Message not consumed.
2020-12-03 01:36:28.493 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:36:28.610 -03:00 [INF] Request finished in 119.9267ms 200 text/html;charset=utf-8
2020-12-03 01:36:29.291 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:36:29.603 -03:00 [INF] Request finished in 312.0531ms 200 application/json;charset=utf-8
2020-12-03 01:36:33.452 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 165
2020-12-03 01:36:33.526 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:36:33.624 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:36:45.902 -03:00 [INF] Message delived in  queue 
2020-12-03 01:36:47.594 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:36:47.690 -03:00 [ERR] Message not consumed.
2020-12-03 01:36:47.693 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 01:36:47.733 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 14095.7309ms
2020-12-03 01:36:47.740 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:36:47.742 -03:00 [INF] Request finished in 14290.3353ms 200 application/json; charset=utf-8
2020-12-03 01:38:53.248 -03:00 [INF] Starting up
2020-12-03 01:39:00.268 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:39:00.287 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:39:00.299 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:39:00.306 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:39:00.312 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:39:00.318 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:39:00.524 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:39:00.531 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:39:00.533 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:39:00.534 -03:00 [INF] Hosting environment: Development
2020-12-03 01:39:00.536 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:39:01.122 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:39:01.250 -03:00 [INF] Request finished in 133.4011ms 200 text/html;charset=utf-8
2020-12-03 01:39:01.913 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:39:02.181 -03:00 [INF] Request finished in 267.5595ms 200 application/json;charset=utf-8
2020-12-03 01:39:09.175 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 165
2020-12-03 01:39:09.236 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:39:09.328 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:39:12.311 -03:00 [INF] Message delived in  queue 
2020-12-03 01:39:12.320 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 01:39:13.498 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 4151.5946ms
2020-12-03 01:39:13.514 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:39:13.515 -03:00 [INF] Request finished in 4351.608ms 200 application/json; charset=utf-8
2020-12-03 01:39:13.836 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Domain.Repository.IOrderRepository'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:39:13.980 -03:00 [ERR] Message not consumed.
2020-12-03 01:42:01.023 -03:00 [INF] Starting up
2020-12-03 01:42:07.997 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:42:08.022 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:42:08.033 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:42:08.039 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:42:08.045 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:42:08.051 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:42:08.267 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:42:08.271 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:42:08.273 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:42:08.274 -03:00 [INF] Hosting environment: Development
2020-12-03 01:42:08.285 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:42:08.638 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:42:08.797 -03:00 [INF] Request finished in 166.6178ms 200 text/html;charset=utf-8
2020-12-03 01:42:09.433 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:42:09.688 -03:00 [INF] Request finished in 255.5936ms 200 application/json;charset=utf-8
2020-12-03 01:42:24.111 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 165
2020-12-03 01:42:24.192 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:42:24.285 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:42:27.074 -03:00 [INF] Message delived in  queue 
2020-12-03 01:42:27.088 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 01:42:28.618 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 4308.7985ms
2020-12-03 01:42:28.625 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:42:28.627 -03:00 [INF] Request finished in 4517.1418ms 200 application/json; charset=utf-8
2020-12-03 01:42:28.919 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Domain.Repository.IApplicationContext'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:42:29.101 -03:00 [ERR] Message not consumed.
2020-12-03 01:42:36.447 -03:00 [INF] Application is shutting down...
2020-12-03 01:42:42.087 -03:00 [INF] Starting up
2020-12-03 01:42:49.232 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-03 01:42:49.247 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:42:49.255 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:42:49.261 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-03 01:42:49.268 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-03 01:42:49.274 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-03 01:42:49.496 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-03 01:42:49.499 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-03 01:42:49.501 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-03 01:42:49.502 -03:00 [INF] Hosting environment: Development
2020-12-03 01:42:49.503 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-03 01:42:50.269 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-03 01:42:50.413 -03:00 [INF] Request finished in 154.4282ms 200 text/html;charset=utf-8
2020-12-03 01:42:51.008 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-03 01:42:51.271 -03:00 [INF] Request finished in 263.1236ms 200 application/json;charset=utf-8
2020-12-03 01:43:13.255 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 165
2020-12-03 01:43:13.310 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:43:13.427 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-03 01:43:19.577 -03:00 [INF] Message delived in  queue 
2020-12-03 01:43:25.459 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-03 01:43:25.505 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 12058.2549ms
2020-12-03 01:43:25.510 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-03 01:43:25.517 -03:00 [INF] Request finished in 12262.6068ms 200 application/json; charset=utf-8
2020-12-03 01:43:25.832 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: Error constructing handler for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
 ---> System.InvalidOperationException: Cannot resolve 'MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.Commands.PorcessOrderCommands.Request.ProcessOrderRequest,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]' from root provider because it requires scoped service 'KitchenRoutingSystem.Domain.Repository.IApplicationContext'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(Type serviceType, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.Microsoft.Extensions.DependencyInjection.ServiceLookup.IServiceProviderEngineCallback.OnResolve(Type serviceType, IServiceScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at MediatR.ServiceFactoryExtensions.GetInstance[T](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   --- End of inner exception stack trace ---
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-03 01:43:25.951 -03:00 [ERR] Message not consumed.
