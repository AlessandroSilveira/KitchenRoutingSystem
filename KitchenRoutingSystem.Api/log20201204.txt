2020-12-04 07:15:07.523 -03:00 [INF] Starting up
2020-12-04 07:20:14.813 -03:00 [INF] Starting up
2020-12-04 07:20:19.233 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:20:19.248 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:20:19.253 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:20:19.258 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:20:19.263 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:20:19.268 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:20:19.957 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 07:20:19.960 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 07:20:19.962 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 07:20:19.963 -03:00 [INF] Hosting environment: Development
2020-12-04 07:20:19.964 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 07:20:25.066 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 07:20:25.286 -03:00 [INF] Request finished in 220.2538ms 200 text/html;charset=utf-8
2020-12-04 07:20:27.591 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 07:20:29.184 -03:00 [INF] Request finished in 1593.831ms 404 
2020-12-04 07:20:29.441 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 07:20:29.444 -03:00 [INF] Request finished in 3.1052ms 404 
2020-12-04 07:20:29.940 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 07:20:31.415 -03:00 [INF] Request finished in 1474.7777ms 200 application/json;charset=utf-8
2020-12-04 07:22:26.586 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 82
2020-12-04 07:22:26.599 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 07:22:26.667 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-04 07:22:29.503 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 2825.5666ms
2020-12-04 07:22:29.519 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 07:22:29.535 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Handler was not found for request of type MediatR.IRequestHandler`2[KitchenRoutingSystem.Domain.DTOs.OrderDto,KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]. Register your handlers with the container. See the samples in GitHub for examples.
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass1_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.Controllers.OrderController.Create(OrderDto command) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api\Controllers\OrderController.cs:line 24
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-04 07:22:29.858 -03:00 [INF] Request finished in 3271.7938ms 500 text/plain
2020-12-04 07:25:06.092 -03:00 [INF] Starting up
2020-12-04 07:25:09.192 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:25:09.207 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:25:09.214 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:25:09.219 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:25:09.224 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:25:09.229 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:25:09.769 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 07:25:09.774 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 07:25:09.775 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 07:25:09.777 -03:00 [INF] Hosting environment: Development
2020-12-04 07:25:09.778 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 07:25:14.346 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-04 07:25:14.435 -03:00 [INF] Request finished in 94.5288ms 301 
2020-12-04 07:25:14.490 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 07:25:14.545 -03:00 [INF] Request finished in 55.4414ms 200 text/html;charset=utf-8
2020-12-04 07:25:15.705 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 07:25:15.763 -03:00 [INF] Request finished in 58.2028ms 404 
2020-12-04 07:25:15.900 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 07:25:15.902 -03:00 [INF] Request finished in 2.3006ms 404 
2020-12-04 07:25:15.971 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 07:25:16.109 -03:00 [INF] Request finished in 137.9966ms 200 application/json;charset=utf-8
2020-12-04 07:25:27.075 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 82
2020-12-04 07:25:27.087 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 07:25:27.139 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-04 07:25:39.838 -03:00 [INF] Message delived in  queue 
2020-12-04 07:25:44.968 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-04 07:25:47.676 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 20526.8577ms
2020-12-04 07:25:47.683 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 07:25:47.687 -03:00 [INF] Request finished in 20611.9349ms 200 application/json; charset=utf-8
2020-12-04 07:33:08.169 -03:00 [INF] Starting up
2020-12-04 07:33:11.225 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:33:11.242 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:33:11.248 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:33:11.267 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:33:11.274 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:33:11.291 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:33:18.973 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 07:33:19.314 -03:00 [INF] Request finished in 358.9211ms 200 text/html;charset=utf-8
2020-12-04 07:33:19.358 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 07:33:19.408 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 07:33:19.409 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 07:33:19.410 -03:00 [INF] Hosting environment: Development
2020-12-04 07:33:19.411 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 07:33:19.424 -03:00 [ERR] Error on Dequeue message: System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at KitchenRoutingSystem.Infra.Repositories.OrderRepository.Add(Order obj) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\OrderRepository.cs:line 21
   at KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler.Handle(ProcessOrderRequest request, CancellationToken cancellationToken) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Domain\Handlers\ProcessOrderHandlers\ProcessOrderHandler.cs:line 47
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
2020-12-04 07:33:19.523 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 07:33:19.559 -03:00 [ERR] Message not consumed.
2020-12-04 07:33:19.604 -03:00 [INF] Request finished in 81.6999ms 404 
2020-12-04 07:33:19.659 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 07:33:19.661 -03:00 [INF] Request finished in 2.0108ms 404 
2020-12-04 07:33:19.721 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 07:33:19.817 -03:00 [INF] Request finished in 96.3612ms 200 application/json;charset=utf-8
2020-12-04 07:33:42.025 -03:00 [INF] Application is shutting down...
2020-12-04 07:35:44.820 -03:00 [INF] Starting up
2020-12-04 07:35:48.862 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:35:48.878 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:35:48.886 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:35:48.891 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:35:48.896 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:35:48.901 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:35:49.462 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 07:35:49.465 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 07:35:49.466 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 07:35:49.467 -03:00 [INF] Hosting environment: Development
2020-12-04 07:35:49.468 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 07:35:53.948 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-04 07:35:54.038 -03:00 [INF] Request finished in 96.483ms 301 
2020-12-04 07:35:54.098 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 07:35:54.160 -03:00 [INF] Request finished in 61.8752ms 200 text/html;charset=utf-8
2020-12-04 07:35:55.359 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 07:35:55.415 -03:00 [INF] Request finished in 56.6591ms 404 
2020-12-04 07:35:55.485 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 07:35:55.488 -03:00 [INF] Request finished in 2.7928ms 404 
2020-12-04 07:35:55.535 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 07:35:55.671 -03:00 [INF] Request finished in 135.5511ms 200 application/json;charset=utf-8
2020-12-04 07:36:12.389 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 82
2020-12-04 07:36:12.398 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 07:36:12.461 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-04 07:36:18.980 -03:00 [INF] Message delived in  queue 
2020-12-04 07:36:23.935 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-04 07:36:37.129 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 23064.6927ms
2020-12-04 07:36:38.550 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 07:36:38.553 -03:00 [INF] Request finished in 26164.4733ms 200 application/json; charset=utf-8
2020-12-04 07:39:49.919 -03:00 [ERR] Error on Dequeue message: System.NotSupportedException: The member  of type KitchenRoutingSystem.Domain.Entities.Product cannot be used as a parameter value
   at Dapper.SqlMapper.LookupDbType(Type type, String name, Boolean demand, ITypeHandler& handler) in /_/Dapper/SqlMapper.cs:line 417
   at Dapper.SqlMapper.PackListParameters(IDbCommand command, String namePrefix, Object value) in /_/Dapper/SqlMapper.cs:line 2026
   at ParamInfodd4de62c-4548-46ec-a77e-8fede0a2181c(IDbCommand , Object )
   at Dapper.CommandDefinition.SetupCommand(IDbConnection cnn, Action`2 paramReader)
   at Dapper.SqlMapper.TrySetupAsyncCommand(CommandDefinition command, IDbConnection cnn, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param)
   at KitchenRoutingSystem.Infra.Repositories.OrderRepository.Add(Order obj)
   at KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler.Handle(ProcessOrderRequest request, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message)
2020-12-04 07:39:50.161 -03:00 [ERR] Message not consumed.
2020-12-04 07:40:18.699 -03:00 [INF] Starting up
2020-12-04 07:40:22.773 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:40:22.792 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:40:22.798 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:40:22.818 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:40:22.824 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:40:22.846 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:51:27.469 -03:00 [INF] Starting up
2020-12-04 07:51:31.783 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:51:31.802 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:51:31.808 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:51:31.828 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:51:31.835 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:51:31.857 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:51:35.998 -03:00 [ERR] Error on Dequeue message: System.NotSupportedException: The member  of type KitchenRoutingSystem.Domain.Entities.Product cannot be used as a parameter value
   at Dapper.SqlMapper.LookupDbType(Type type, String name, Boolean demand, ITypeHandler& handler) in /_/Dapper/SqlMapper.cs:line 417
   at Dapper.SqlMapper.PackListParameters(IDbCommand command, String namePrefix, Object value) in /_/Dapper/SqlMapper.cs:line 2026
   at ParamInfo18820dfd-fc88-4e53-9231-95dbf0468d8b(IDbCommand , Object )
   at Dapper.CommandDefinition.SetupCommand(IDbConnection cnn, Action`2 paramReader)
   at Dapper.SqlMapper.TrySetupAsyncCommand(CommandDefinition command, IDbConnection cnn, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param)
   at KitchenRoutingSystem.Infra.Repositories.OrderRepository.Add(Order obj)
   at KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler.Handle(ProcessOrderRequest request, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message)
2020-12-04 07:51:36.116 -03:00 [ERR] Message not consumed.
2020-12-04 07:51:36.537 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 07:51:36.541 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 07:51:36.543 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 07:51:36.544 -03:00 [INF] Hosting environment: Development
2020-12-04 07:51:36.546 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 07:51:38.214 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 07:51:38.388 -03:00 [INF] Request finished in 180.5019ms 200 text/html;charset=utf-8
2020-12-04 07:51:41.555 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 07:51:41.665 -03:00 [INF] Request finished in 111.754ms 404 
2020-12-04 07:51:41.766 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 07:51:41.769 -03:00 [INF] Request finished in 3.2338ms 404 
2020-12-04 07:51:41.869 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 07:51:42.028 -03:00 [INF] Request finished in 158.9622ms 200 application/json;charset=utf-8
2020-12-04 07:52:09.762 -03:00 [INF] Application is shutting down...
2020-12-04 07:56:06.749 -03:00 [INF] Starting up
2020-12-04 07:56:10.682 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:56:10.699 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:56:10.706 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:56:10.711 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:56:10.716 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:56:10.721 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:56:11.768 -03:00 [ERR] Error on Seed Product Data: Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Product' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 646
   at KitchenRoutingSystem.Infra.Repositories.ProductRepository.Add(Product obj) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\ProductRepository.cs:line 26
   at KitchenRoutingSystem.Infra.Repositories.Seed.SeedProducts() in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\Seed.cs:line 64
ClientConnectionId:a1837a59-10ab-4fc8-ae47-9f9207be0bac
Error Number:544,State:1,Class:16
2020-12-04 07:56:12.107 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 07:56:12.111 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 07:56:12.114 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 07:56:12.115 -03:00 [INF] Hosting environment: Development
2020-12-04 07:56:12.116 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 07:56:16.579 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-04 07:56:16.673 -03:00 [INF] Request finished in 98.8996ms 301 
2020-12-04 07:56:16.733 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 07:56:16.813 -03:00 [INF] Request finished in 80.2347ms 200 text/html;charset=utf-8
2020-12-04 07:56:17.871 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 07:56:17.936 -03:00 [INF] Request finished in 64.5399ms 404 
2020-12-04 07:56:18.006 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 07:56:18.009 -03:00 [INF] Request finished in 2.9631ms 404 
2020-12-04 07:56:18.059 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 07:56:18.198 -03:00 [INF] Request finished in 139.2376ms 200 application/json;charset=utf-8
2020-12-04 07:58:12.436 -03:00 [INF] Starting up
2020-12-04 07:58:15.790 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 07:58:15.807 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:58:15.814 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:58:15.819 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 07:58:15.824 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 07:58:15.829 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 07:58:16.910 -03:00 [ERR] Error on Seed Product Data: Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Product' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 646
   at KitchenRoutingSystem.Infra.Repositories.ProductRepository.Add(Product obj) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\ProductRepository.cs:line 26
   at KitchenRoutingSystem.Infra.Repositories.Seed.SeedProducts() in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\Seed.cs:line 69
ClientConnectionId:afbe01d6-5ef1-4ac5-9f78-267f006a22ae
Error Number:544,State:1,Class:16
2020-12-04 07:58:17.219 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 07:58:17.224 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 07:58:17.225 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 07:58:17.226 -03:00 [INF] Hosting environment: Development
2020-12-04 07:58:17.228 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 07:58:22.215 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-04 07:58:22.297 -03:00 [INF] Request finished in 86.1717ms 301 
2020-12-04 07:58:22.364 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 07:58:22.436 -03:00 [INF] Request finished in 71.4655ms 200 text/html;charset=utf-8
2020-12-04 07:58:23.565 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 07:58:23.637 -03:00 [INF] Request finished in 72.1448ms 404 
2020-12-04 07:58:23.728 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 07:58:23.733 -03:00 [INF] Request finished in 4.6481ms 404 
2020-12-04 07:58:23.791 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 07:58:23.970 -03:00 [INF] Request finished in 179.4737ms 200 application/json;charset=utf-8
2020-12-04 08:00:02.759 -03:00 [INF] Starting up
2020-12-04 08:00:05.864 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 08:00:05.880 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:00:05.886 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:00:05.893 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:00:05.899 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 08:00:05.906 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 08:00:07.075 -03:00 [ERR] Error on Seed Product Data: Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Product' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 646
   at KitchenRoutingSystem.Infra.Repositories.ProductRepository.Add(Product obj) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\ProductRepository.cs:line 26
   at KitchenRoutingSystem.Infra.Repositories.Seed.SeedProducts() in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\Seed.cs:line 69
ClientConnectionId:cb54b21b-4f44-443e-a480-cea08c7e1bed
Error Number:544,State:1,Class:16
2020-12-04 08:00:07.436 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 08:00:07.441 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 08:00:07.443 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 08:00:07.444 -03:00 [INF] Hosting environment: Development
2020-12-04 08:00:07.446 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 08:00:11.826 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-04 08:00:11.911 -03:00 [INF] Request finished in 90.2379ms 301 
2020-12-04 08:00:11.967 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 08:00:12.024 -03:00 [INF] Request finished in 56.6585ms 200 text/html;charset=utf-8
2020-12-04 08:00:13.202 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 08:00:13.265 -03:00 [INF] Request finished in 63.5588ms 404 
2020-12-04 08:00:13.337 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 08:00:13.339 -03:00 [INF] Request finished in 2.271ms 404 
2020-12-04 08:00:13.386 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:00:13.521 -03:00 [INF] Request finished in 134.5369ms 200 application/json;charset=utf-8
2020-12-04 08:00:22.601 -03:00 [INF] Application is shutting down...
2020-12-04 08:01:48.683 -03:00 [INF] Starting up
2020-12-04 08:01:51.762 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 08:01:51.776 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:01:51.782 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:01:51.787 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:01:51.791 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 08:01:51.795 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 08:01:52.709 -03:00 [ERR] Error on Seed Product Data: Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Product' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param) in /_/Dapper/SqlMapper.Async.cs:line 646
   at KitchenRoutingSystem.Infra.Repositories.ProductRepository.Add(Product obj) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\ProductRepository.cs:line 26
   at KitchenRoutingSystem.Infra.Repositories.Seed.SeedProducts() in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\Seed.cs:line 69
ClientConnectionId:2cfac3f0-4a97-44a2-bf4d-17bbcb4dc9e3
Error Number:544,State:1,Class:16
2020-12-04 08:01:52.986 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 08:01:52.988 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 08:01:52.989 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 08:01:52.990 -03:00 [INF] Hosting environment: Development
2020-12-04 08:01:52.991 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 08:01:57.216 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 08:01:57.348 -03:00 [INF] Request finished in 136.2837ms 200 text/html;charset=utf-8
2020-12-04 08:01:58.511 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 08:01:58.573 -03:00 [INF] Request finished in 62.3952ms 404 
2020-12-04 08:01:58.644 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 08:01:58.647 -03:00 [INF] Request finished in 3.1767ms 404 
2020-12-04 08:01:58.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:01:58.868 -03:00 [INF] Request finished in 141.1835ms 200 application/json;charset=utf-8
2020-12-04 08:02:41.461 -03:00 [INF] Starting up
2020-12-04 08:02:45.624 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 08:02:45.644 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:02:45.653 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:02:45.660 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:02:45.667 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 08:02:45.674 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 08:02:46.501 -03:00 [INF] Seed Complete
2020-12-04 08:02:46.981 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 08:02:46.985 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 08:02:46.987 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 08:02:46.989 -03:00 [INF] Hosting environment: Development
2020-12-04 08:02:46.992 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 08:02:51.832 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-04 08:02:51.917 -03:00 [INF] Request finished in 90.0996ms 301 
2020-12-04 08:02:51.984 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 08:02:52.038 -03:00 [INF] Request finished in 54.5707ms 200 text/html;charset=utf-8
2020-12-04 08:02:53.157 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 08:02:53.218 -03:00 [INF] Request finished in 60.8286ms 404 
2020-12-04 08:02:53.296 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 08:02:53.298 -03:00 [INF] Request finished in 1.928ms 404 
2020-12-04 08:02:53.344 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:02:53.479 -03:00 [INF] Request finished in 134.9505ms 200 application/json;charset=utf-8
2020-12-04 08:03:17.323 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 82
2020-12-04 08:03:17.332 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 08:03:17.378 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-04 08:03:23.241 -03:00 [INF] Message delived in  queue 
2020-12-04 08:03:27.740 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-04 08:03:43.326 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 25838.6181ms
2020-12-04 08:03:43.369 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 08:03:43.375 -03:00 [INF] Request finished in 26051.3165ms 200 application/json; charset=utf-8
2020-12-04 08:04:04.826 -03:00 [INF] Starting up
2020-12-04 08:04:08.988 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 08:04:09.007 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:04:09.015 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:04:09.035 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:04:09.041 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 08:04:09.061 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 08:04:33.482 -03:00 [ERR] Error on Seed Product Data: Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider, error: 0 - O tempo limite de espera foi atingido.)
 ---> System.ComponentModel.Win32Exception (258): O tempo limite de espera foi atingido.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at KitchenRoutingSystem.Infra.Repositories.ProductRepository.Add(Product obj) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\ProductRepository.cs:line 25
   at KitchenRoutingSystem.Infra.Repositories.Seed.SeedProducts() in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\Seed.cs:line 69
ClientConnectionId:6c75b8d2-80e7-492f-9931-9f789478d9ab
Error Number:258,State:0,Class:20
2020-12-04 08:04:33.663 -03:00 [ERR] Error on Dequeue message: Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider, error: 0 - O tempo limite de espera foi atingido.)
 ---> System.ComponentModel.Win32Exception (258): O tempo limite de espera foi atingido.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at KitchenRoutingSystem.Infra.Repositories.OrderRepository.Add(Order obj) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Infra\Repositories\OrderRepository.cs:line 26
   at KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler.Handle(ProcessOrderRequest request, CancellationToken cancellationToken) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Domain\Handlers\ProcessOrderHandlers\ProcessOrderHandler.cs:line 47
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message) in C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api\OrderConsumer.cs:line 52
ClientConnectionId:6c75b8d2-80e7-492f-9931-9f789478d9ab
Error Number:258,State:0,Class:20
2020-12-04 08:04:33.787 -03:00 [ERR] Message not consumed.
2020-12-04 08:04:34.128 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 08:04:34.133 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 08:04:34.135 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 08:04:34.136 -03:00 [INF] Hosting environment: Development
2020-12-04 08:04:34.137 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 08:04:38.003 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 08:04:38.109 -03:00 [INF] Request finished in 109.2945ms 200 text/html;charset=utf-8
2020-12-04 08:04:39.110 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 08:04:39.161 -03:00 [INF] Request finished in 51.3882ms 404 
2020-12-04 08:04:39.223 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 08:04:39.226 -03:00 [INF] Request finished in 2.4402ms 404 
2020-12-04 08:04:39.288 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:04:39.423 -03:00 [INF] Request finished in 135.1139ms 200 application/json;charset=utf-8
2020-12-04 08:04:51.440 -03:00 [INF] Application is shutting down...
2020-12-04 08:04:57.028 -03:00 [INF] Starting up
2020-12-04 08:05:00.862 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 08:05:00.878 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:05:00.885 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:05:00.891 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:05:00.897 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 08:05:00.903 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 08:05:01.778 -03:00 [INF] Seed Complete
2020-12-04 08:05:02.241 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 08:05:02.246 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 08:05:02.247 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 08:05:02.248 -03:00 [INF] Hosting environment: Development
2020-12-04 08:05:02.249 -03:00 [INF] Content root path: C:\Users\alessandro.silveira\source\repos\KitchenRoutingSystem2\KitchenRoutingSystem.Api
2020-12-04 08:05:06.848 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2020-12-04 08:05:06.926 -03:00 [INF] Request finished in 82.1472ms 301 
2020-12-04 08:05:06.990 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 08:05:07.052 -03:00 [INF] Request finished in 62.59ms 200 text/html;charset=utf-8
2020-12-04 08:05:08.186 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2020-12-04 08:05:08.240 -03:00 [INF] Request finished in 54.4999ms 404 
2020-12-04 08:05:08.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2020-12-04 08:05:08.313 -03:00 [INF] Request finished in 2.8667ms 404 
2020-12-04 08:05:08.360 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:05:08.510 -03:00 [INF] Request finished in 150.2109ms 200 application/json;charset=utf-8
2020-12-04 08:05:46.249 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 82
2020-12-04 08:05:46.258 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 08:05:46.302 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-04 08:05:53.000 -03:00 [INF] Message delived in  queue 
2020-12-04 08:05:53.023 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-04 08:05:53.049 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 6737.2937ms
2020-12-04 08:05:53.056 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 08:05:53.059 -03:00 [INF] Request finished in 6810.372ms 200 application/json; charset=utf-8
2020-12-04 08:38:05.196 -03:00 [INF] Starting up
2020-12-04 08:39:19.511 -03:00 [INF] Starting up
2020-12-04 08:39:25.953 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 08:39:25.973 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:39:25.981 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:39:25.988 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:39:25.996 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 08:39:26.003 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 08:39:28.924 -03:00 [ERR] Error on Seed Product Data: Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: TCP Provider, error: 0 - Foi forado o cancelamento de uma conexo existente pelo host remoto.)
 ---> System.ComponentModel.Win32Exception (10054): Foi forado o cancelamento de uma conexo existente pelo host remoto.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open()
   at KitchenRoutingSystem.Infra.Repositories.ProductRepository.Add(Product obj) in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Infra\Repositories\ProductRepository.cs:line 25
   at KitchenRoutingSystem.Infra.Repositories.Seed.SeedProducts() in C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Infra\Repositories\Seed.cs:line 69
ClientConnectionId:8a02953b-da84-4a19-b55b-225b7bbc62e5
Error Number:10054,State:0,Class:20
2020-12-04 08:39:29.179 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 08:39:29.184 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 08:39:29.186 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 08:39:29.187 -03:00 [INF] Hosting environment: Development
2020-12-04 08:39:29.189 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-04 08:39:41.390 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 08:39:41.573 -03:00 [INF] Request finished in 195.1713ms 200 text/html;charset=utf-8
2020-12-04 08:39:42.823 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:39:43.355 -03:00 [INF] Request finished in 532.4617ms 200 application/json;charset=utf-8
2020-12-04 08:39:46.672 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:39:46.686 -03:00 [INF] Request finished in 15.7384ms 200 application/json;charset=utf-8
2020-12-04 08:39:48.504 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:39:48.516 -03:00 [INF] Request finished in 12.549ms 200 application/json;charset=utf-8
2020-12-04 08:39:49.640 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:39:49.657 -03:00 [INF] Request finished in 17.3825ms 200 application/json;charset=utf-8
2020-12-04 08:41:01.775 -03:00 [INF] Application is shutting down...
2020-12-04 08:46:25.829 -03:00 [INF] Starting up
2020-12-04 08:46:32.403 -03:00 [INF] krs.order.consumer Consumer started.
2020-12-04 08:46:32.420 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:46:32.428 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:46:32.434 -03:00 [INF] krs.fries.consumer Consumer started.
2020-12-04 08:46:32.442 -03:00 [INF] krs.drink.consumer Consumer started.
2020-12-04 08:46:32.448 -03:00 [INF] krs.dessert.consumer Consumer started.
2020-12-04 08:46:33.566 -03:00 [INF] Now listening on: http://localhost:5000
2020-12-04 08:46:33.570 -03:00 [INF] Now listening on: https://localhost:5001
2020-12-04 08:46:33.572 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2020-12-04 08:46:33.574 -03:00 [INF] Hosting environment: Development
2020-12-04 08:46:33.575 -03:00 [INF] Content root path: C:\Users\alesi\source\repos\KitchenRoutingSystem\KitchenRoutingSystem\KitchenRoutingSystem.Api
2020-12-04 08:46:33.714 -03:00 [INF] Seed Complete
2020-12-04 08:46:36.662 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2020-12-04 08:46:36.806 -03:00 [INF] Request finished in 138.2333ms 200 text/html;charset=utf-8
2020-12-04 08:46:37.715 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:46:38.016 -03:00 [INF] Request finished in 300.8043ms 200 application/json;charset=utf-8
2020-12-04 08:46:41.115 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:46:41.129 -03:00 [INF] Request finished in 14.4149ms 200 application/json;charset=utf-8
2020-12-04 08:46:44.114 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2020-12-04 08:46:44.120 -03:00 [INF] Request finished in 6.7381ms 200 application/json;charset=utf-8
2020-12-04 08:46:56.765 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/Order application/json 82
2020-12-04 08:46:56.841 -03:00 [INF] Executing endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 08:46:56.961 -03:00 [INF] Route matched with {action = "Create", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[KitchenRoutingSystem.Shared.Commands.Response.CommandResponse]] Create(KitchenRoutingSystem.Domain.DTOs.OrderDto) on controller KitchenRoutingSystem.Api.Controllers.OrderController (KitchenRoutingSystem.Api).
2020-12-04 08:47:07.025 -03:00 [INF] Message delived in  queue 
2020-12-04 08:47:11.974 -03:00 [INF] Executing ObjectResult, writing value of type 'KitchenRoutingSystem.Shared.Commands.Response.CommandResponse'.
2020-12-04 08:47:12.018 -03:00 [INF] Executed action KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api) in 15042.2435ms
2020-12-04 08:47:12.026 -03:00 [INF] Executed endpoint 'KitchenRoutingSystem.Api.Controllers.OrderController.Create (KitchenRoutingSystem.Api)'
2020-12-04 08:47:12.030 -03:00 [INF] Request finished in 15265.1673ms 200 application/json; charset=utf-8
2020-12-04 08:47:12.573 -03:00 [ERR] Error on Dequeue message: System.NotSupportedException: The member  of type KitchenRoutingSystem.Domain.Entities.Product cannot be used as a parameter value
   at Dapper.SqlMapper.LookupDbType(Type type, String name, Boolean demand, ITypeHandler& handler) in /_/Dapper/SqlMapper.cs:line 417
   at Dapper.SqlMapper.PackListParameters(IDbCommand command, String namePrefix, Object value) in /_/Dapper/SqlMapper.cs:line 2026
   at ParamInfoce3193c9-51f7-48e7-ba65-587967582822(IDbCommand , Object )
   at Dapper.CommandDefinition.SetupCommand(IDbConnection cnn, Action`2 paramReader)
   at Dapper.SqlMapper.TrySetupAsyncCommand(CommandDefinition command, IDbConnection cnn, Action`2 paramReader)
   at Dapper.SqlMapper.ExecuteImplAsync(IDbConnection cnn, CommandDefinition command, Object param)
   at KitchenRoutingSystem.Infra.Repositories.OrderRepository.Add(Order obj)
   at KitchenRoutingSystem.Domain.Handlers.ProcessOrderHandlers.ProcessOrderHandler.Handle(ProcessOrderRequest request, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at KitchenRoutingSystem.Api.OrderConsumer.Dequeue(BasicDeliverEventArgs message)
2020-12-04 08:47:12.673 -03:00 [ERR] Message not consumed.
